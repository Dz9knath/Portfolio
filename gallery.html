<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>Gallery — breakout test</title>
<style>
  *{box-sizing:border-box;margin:0;padding:0}
  html,body{height:100%}
  body{
    font-family:Arial,Helvetica,sans-serif;
    background:#fff;
    color:#000;
    overflow-x:hidden; /* prevents horizontal scrollbar from the breakout */
  }

  /* header (white, black text + burger) */
  header{
    position:sticky;
    top:0;
    z-index:1200;
    background:#fff;
    border-bottom:1px solid #eee;
    padding:14px 20px;
    display:flex;
    align-items:center;
    justify-content:space-between;
  }
  header h1{font-size:1.2rem;margin:0;color:#000}
  .hamburger{
    font-size:1.8rem;
    color:#000;
    background:transparent;
    border:none;
    cursor:pointer;
  }

  /* sidebar fully hidden when closed */
  .sidebar{
    position:fixed;
    top:0;
    right:-320px; /* fully offscreen (panel width 300px) */
    width:300px;
    height:100vh;
    padding:36px 18px;
    background:#fff;
    box-shadow:-2px 0 10px rgba(0,0,0,0.12);
    transition:right .32s ease;
    z-index:1400;
  }
  .sidebar.open{ right:0 }
  .sidebar .flags{ display:flex; gap:10px; justify-content:center; margin-bottom:18px }
  .sidebar a{ display:block; margin:12px 0; color:#333; text-decoration:none }

  /* MASONRY — breakout to full viewport width to avoid parent width limits */
  main{ padding-top:10px; padding-bottom:40px }
  .masonry{
    width:100vw;                         /* full viewport width */
    max-width:none;
    margin-left: calc(-50vw + 50%);      /* center-breakout trick */
    padding: 16px;                       /* internal padding for columns */
    column-count:5;
    column-gap:16px;
    -webkit-column-fill: auto;
    column-fill: auto;
  }

  /* responsive counts */
  @media (max-width:1400px){ .masonry{ column-count:4 } }
  @media (max-width:1100px){ .masonry{ column-count:3 } }
  @media (max-width:800px) { .masonry{ column-count:2 } }
  @media (max-width:520px) { .masonry{ column-count:1 } }

  .masonry-item{
    display:inline-block;                /* required for column flow */
    width:100%;                          /* fits the column width */
    margin:0 0 16px;
    break-inside:avoid;
    -webkit-column-break-inside:avoid;
    -moz-column-break-inside:avoid;
    position:relative;
    overflow:hidden;
    border-radius:8px;
    background:#f3f3f3;
    cursor:pointer;
  }
  .masonry-item img{
    display:block;
    width:100%;
    height:auto;
    transition:transform .35s ease;
  }

  .overlay{
    position:abs
